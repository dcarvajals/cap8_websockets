<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html ng-app="app">
    <head>
        <title>Chat WebSocket</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="bootstrap.css" rel="stylesheet" type="text/css"/>
        <link href="chat.css" rel="stylesheet" type="text/css"/>

        <script src="angular.js" type="text/javascript"></script>
        <script src="jquery.min.js" type="text/javascript"></script>
        <script src="bootstrap.min.js" type="text/javascript"></script>
    </head>
    <body ng-controller="chatweb">


        <div class="container mt-3">
            <div class="">
                <div class="">
                    
                    <div style="width: 100%; margin: auto" ng-show="!viewChat">
                        <div class="form-group">
                            <label class="col-form-label"> Ingrese su nombre de usuario: </label>
                            <input class="form-control" id="nameUser">
                        </div>

                        <button class="btn btn-primary" ng-click="acceder()"> Acceder </button>
                    </div>
                    
                    <div class="border" style="width: 100%; margin: auto" ng-show="viewChat">

                        <div class="text-center">
                            <span class=""></span> Chat
                        </div>
                        <div class="panel-body" style="padding: 1rem">
                            <ul class="chat" ng-repeat="dom_sendchat in messagesend">
                                <li class="right clearfix" ng-show="dom_sendchat.type === 'R'">
                                    <div class="chat-body clearfix">
                                        <div>
                                            <small class="text-muted"><span></span>{{dom_sendchat.date}}</small>
                                            <strong class="float-right">{{dom_sendchat.header}}</strong>
                                        </div>
                                        <p class="text-justify float-right">
                                            {{dom_sendchat.content}}
                                        </p>
                                    </div>
                                    <span>
                                        <img src="https://placehold.it/50/FA6F57/fff&text=ME" alt="User Avatar" class="img-circle" />
                                    </span>
                                </li>
                                <li class="left clearfix" ng-show="dom_sendchat.type === 'L'">
                                    <span>
                                        <img src="https://placehold.it/50/55C1E7/fff&text=U" alt="User Avatar" class="img-circle" />
                                    </span>
                                    <div class="chat-body clearfix">
                                        <div>
                                            <strong>{{dom_sendchat.header}}</strong> 
                                            <small class="float-right">
                                                <span class="float-right"></span>{{dom_sendchat.date}}</small>
                                        </div>
                                        <p class="text-justify">
                                            {{dom_sendchat.content}}
                                        </p>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div>
                            <div class="input-group" style="flex-wrap: nowrap">
                                <input id="message_input" type="text" class="form-control" placeholder="Type your message here..." />
                                <span>
                                    <button class="btn btn-warning"  id="btn-chat" ng-click="sendChat()">
                                        Enviar
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="jsWebSocket.js" type="text/javascript"></script>
        <script src="chatWeb.js" type="text/javascript"></script>
    </body>
</html>
